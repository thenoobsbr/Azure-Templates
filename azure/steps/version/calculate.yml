parameters:
- name: name
  type: string
  default: 'calculate_version'
- name: display_name
  type: string
  default: 'Calculate version'
- name: increment
  type: string
  default: 'patch'
  values:
  - 'ignore'
  - 'major'
  - 'minor'
  - 'patch'
- name: project_path
  type: string
  default: '$(Pipeline.Workspace)/project'
- name: release
  type: string
- name: suffix
  type: string

steps:    
  - task: Bash@3
    name: ${{ parameters.name }}
    displayName: ${{ parameters.display_name }}
    inputs:
      filePath: '$(Pipeline.Workspace)/templates/azure/scripts/calculate_version.sh'
    env:
      INCREMENT: ${{ parameters.increment}}
      RELEASE: ${{ parameters.release }}
      SUFFIX: ${{ parameters.suffix }}
      PROJECT_PATH: ${{ parameters.project_path }}